<?xml version="1.0" encoding="utf-8"?>

<odoo>
	<data>	

		<!-- Sale Order Lines -->
 		<record id="sh_so_undelivered_form_view_inherit" model="ir.ui.view">
			<field name="name">Sale Order Line Form</field>
			<field name="model">sale.order.line</field>
			<field name="arch" type="xml">							
				<form>
					<sheet>					
						<group>
							<group>
								<field name="order_partner_id"/>
								<field name="order_id" string="Sale order No" />
								<field name="product_id"/>
								<field name="product_uom"/>
								<field name="qty_delivered" invisible="1"/>
								<field name="tax_id" widget="many2many_tags" invisible="1"/>
															
							</group>
							<group>
								<field name="so_order_date"/>
								<field name="name"/>
								<field name="qty_invoiced" invisible="1"/>
								<field name="price_unit" string="Price"/>
								<field name="discount" invisible="1"/>
								<field name="price_subtotal" string="Amount"/>	
								<field name="is_delivered" invisible="1"/>						
							</group>
						</group>						
					</sheet>
				</form>				
			</field>
		</record>
		
 		<record id="sh_so_undelivered_tree_view_inherit" model="ir.ui.view">
			<field name="name">Sale Order Line Tree</field>
			<field name="model">sale.order.line</field>
			<field name="arch" type="xml">			
				<tree>
					<field name="order_partner_id"/>
					<field name="so_order_date"/>
					<field name="order_id" string="Sale order No"/>
					<field name="product_id"/>
					<field name="name"/>
					<field name="product_uom" invisible="1"/>
					<field name="product_uom_qty" string="Qty" />
					<field name="qty_delivered" invisible="1"/>
					<field name="qty_invoiced" invisible="1"/>
					<field name="price_unit" string="Price"/>
					<field name="tax_id" widget="many2many_tags" invisible="1"/>
					<field name="discount" invisible="1"/>
					<field name="price_subtotal" string="Amount" sum='Amount'/>
					<field name="is_delivered" invisible="1"/>							
				</tree>				
			</field>
		</record>


     

		<record id="action_sh_so_undelivered" model="ir.actions.act_window">
			<field name="name">Sale Order Line</field>
			<field name="res_model">sale.order.line</field>
			<field name="type">ir.actions.act_window</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form,kanban</field>
            <field name="domain">[('is_delivered','=',False)]</field>
            <field name="context">{}</field>
            <field name="view_id" ref="sh_so_undelivered_tree_view_inherit"/>
		</record>
				
	</data>
	
 	<menuitem id="sh_so_undelivered" name="Undelivered" action="action_sh_so_undelivered" 
		groups="sales_team.group_sale_manager" parent="sale.sale_order_menu"/>
			 
</odoo>
